<!doctype html>
<html lang="bn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Lemon Rooms ‚Ä¢ Availability</title>
<meta name="theme-color" content="#0ea5e9">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0b1220;          /* page background (subtle gradient base) */
    --card:#0f172a;        /* container background */
    --muted:#94a3b8;       /* muted text */
    --text:#e2e8f0;        /* main text */
    --accent:#0ea5e9;      /* brand blue */
    --accent-2:#22d3ee;    /* gradient blend */
    --border:#1e293b;
    --success:#10b981;
    --danger:#ef4444;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial,Helvetica,sans-serif;
    color:var(--text);
    background:
      radial-gradient(1200px 500px at 80% -10%, rgba(34,211,238,.15), transparent 60%),
      radial-gradient(900px 400px at -10% 10%, rgba(14,165,233,.18), transparent 60%),
      var(--bg);
  }
  a{color:inherit;text-decoration:none}
  .wrap{max-width:1100px;margin:auto;padding:18px}
  .nav{
    display:flex;align-items:center;gap:12px;justify-content:space-between;
    background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));
    border:1px solid var(--border);border-radius:18px;padding:12px 14px;
    backdrop-filter: blur(8px);
  }
  .brand{display:flex;align-items:center;gap:10px}
  .logo{
    width:34px;height:34px;border-radius:10px;
    background:linear-gradient(135deg, var(--accent), var(--accent-2));
    display:grid;place-items:center;font-weight:800;color:#06121c;
    box-shadow:0 8px 30px rgba(14,165,233,.35), inset 0 0 0 2px rgba(255,255,255,.4);
  }
  .brand h1{font-size:16px;margin:0;font-weight:700;letter-spacing:.3px}
  .nav .actions{display:flex;gap:8px}
  .btn{
    border:1px solid var(--border);color:var(--text);background:#0b1324;
    padding:10px 12px;border-radius:12px;cursor:pointer;font-weight:600;
    transition:.2s ease; display:inline-flex; align-items:center; gap:8px;
  }
  .btn:hover{border-color:#2a3b52;transform:translateY(-1px)}
  .btn.primary{background:linear-gradient(180deg, #1fb0ec, #0ea5e9); color:#041a25; border-color:transparent}
  .btn.ghost{background:transparent}
  .hero{
    margin-top:18px;
    display:grid;grid-template-columns:1.1fr .9fr;gap:16px;
  }
  @media (max-width:900px){ .hero{grid-template-columns:1fr} }
  .panel{
    background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
    border:1px solid var(--border);border-radius:18px;padding:16px;
  }
  .panel h2{margin:0 0 8px 0;font-size:18px}
  .muted{color:var(--muted)}
  .pill{display:inline-block;padding:4px 10px;border-radius:999px;background:#0b1324;border:1px solid var(--border);font-size:12px}
  .tips{display:grid;gap:10px;margin-top:8px}
  .tips li{list-style:none;border:1px dashed var(--border);border-radius:12px;padding:10px}
  /* Iframe container */
  .appwrap{position:relative;border-radius:18px;overflow:hidden;border:1px solid var(--border)}
  iframe{display:block;width:100%;height:70vh;border:0;background:#020617}
  @media (max-width:900px){ iframe{height:76vh} }
  .loader{
    position:absolute;inset:0;display:grid;place-items:center;
    background:linear-gradient(180deg, rgba(2,6,23,.7), rgba(2,6,23,.3));
    backdrop-filter: blur(3px);
  }
  .spinner{
    width:56px;height:56px;border-radius:50%;
    border:5px solid rgba(255,255,255,.15);border-top-color:var(--accent);
    animation:spin 1s linear infinite;
  }
  @keyframes spin{to{transform:rotate(360deg)}}
  footer{opacity:.6;text-align:center;margin:16px 0}
  .kbd{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;padding:.2em .45em;border:1px solid var(--border);border-radius:8px;background:#0b1324}
</style>
</head>
<body>
  <div class="wrap">
    <!-- Top Bar -->
    <div class="nav">
      <div class="brand">
        <div class="logo">LR</div>
        <h1>Lemon Rooms</h1>
        <span class="pill">Availability</span>
      </div>
      <div class="actions">
        <button class="btn" id="reloadBtn">‚Üª Reload</button>
        <a class="btn ghost" id="openNew" target="_blank" rel="noopener">Open in new tab</a>
        <button class="btn primary" id="installBtn" title="Add to Home Screen on mobile">Install</button>
      </div>
    </div>

    <!-- Main -->
    <div class="hero">
      <section class="panel">
        <h2>Live App</h2>
        <p class="muted" style="margin:.2rem 0 .8rem">‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶¨‡ßá‡¶õ‡ßá ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® ‡¶ï‡ßã‡¶® ‡¶∞‡ßÅ‡¶Æ ‡¶´‡¶æ‡¶Å‡¶ï‡¶æ ‡¶Ü‡¶õ‡ßá‡•§</p>
        <div class="appwrap">
          <!-- üîó ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ Google Script Web App URL ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¨‡¶∏‡¶æ‡¶® -->
          <iframe id="appFrame" src="https://script.google.com/macros/s/AKfycbxLTEIk7iUJ1PGVbxGmXnCyEfxk35_9nqzSr_onNm8AxVN_sHNqfdoZ35szSqbVO3FxHw/exec"></iframe>
          <div class="loader" id="loader"><div class="spinner"></div></div>
        </div>
      </section>

      <aside class="panel">
        <h2>Quick Tips</h2>
        <ul class="tips">
          <li>üì± ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤‡ßá ‡¶è‡¶á ‡¶™‡ßá‡¶ú‡¶ü‡¶ø <span class="kbd">Add to Home Screen</span> ‡¶ï‡¶∞‡¶≤‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶ö‡¶≤‡¶¨‡ßá‡•§</li>
          <li>üîÑ ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ <b>Reload</b> ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶è‡¶Æ‡ßç‡¶¨‡ßá‡¶°‡ßá‡¶° ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂ ‡¶π‡¶¨‡ßá‡•§</li>
          <li>üåô ‡¶™‡ßÅ‡¶∞‡ßã ‡¶∏‡¶æ‡¶á‡¶ü ‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶•‡¶ø‡¶Æ‚Äî‡¶ö‡ßã‡¶ñ‡ßá ‡¶Ü‡¶∞‡¶æ‡¶Æ‡¶¶‡¶æ‡¶Ø‡¶º‡¶ï ‡¶ì ‡¶™‡ßç‡¶∞‡¶´‡ßá‡¶∂‡¶®‡¶æ‡¶≤ ‡¶≤‡ßÅ‡¶ï‡•§</li>
          <li>üß∞ ‡¶¨‡¶ø‡¶ü‡¶æ: ‡¶Ø‡¶¶‡¶ø ‡¶ï‡¶ñ‡¶®‡ßã ‚ÄúSign-in‚Äù ‡¶¨‡¶æ ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç ‡¶Ü‡¶ü‡¶ï‡¶æ‡ßü, <b>Open in new tab</b> ‡¶ö‡¶æ‡¶™‡ßÅ‡¶®‡•§</li>
        </ul>
        <div style="margin-top:10px" class="muted">Keyboard: Reload = <span class="kbd">R</span></div>
      </aside>
    </div>

    <footer>¬© Lemon Rooms ‚Äî simple, fast & reliable</footer>
  </div>

<script>
  // üëâ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ö‡¶¨‡¶∂‡ßç‡¶Ø‡¶á ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ Apps Script URL ‡¶¶‡¶ø‡¶® (‡¶è‡¶ï‡¶ü‡¶ø‡¶á ‡¶ú‡¶æ‡¶Ø‡¶º‡¶ó‡¶æ)
  const APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxLTEIk7iUJ1PGVbxGmXnCyEfxk35_9nqzSr_onNm8AxVN_sHNqfdoZ35szSqbVO3FxHw/exec'; // e.g. https://script.google.com/macros/s/AKfycb.../exec
  document.getElementById('openNew').href = APPS_SCRIPT_URL;

  // Loader handling
  const frame = document.getElementById('appFrame');
  const loader = document.getElementById('loader');
  const reloadBtn = document.getElementById('reloadBtn');

  frame.addEventListener('load', () => {
    loader.style.opacity = '0';
    setTimeout(() => loader.style.display = 'none', 250);
  });

  reloadBtn.addEventListener('click', () => {
    loader.style.display = 'grid';
    loader.style.opacity = '1';
    frame.src = APPS_SCRIPT_URL + (APPS_SCRIPT_URL.includes('?') ? '&' : '?') + 't=' + Date.now();
  });

  // [R] key to reload
  window.addEventListener('keydown', (e) => {
    if ((e.key === 'r' || e.key === 'R') && !e.ctrlKey && !e.metaKey) {
      e.preventDefault();
      reloadBtn.click();
    }
  });

  // Minimal "install" helper: prompt A2HS on mobile if supported
  let deferredPrompt=null;
  window.addEventListener('beforeinstallprompt',(e)=>{ e.preventDefault(); deferredPrompt=e; });
  document.getElementById('installBtn').addEventListener('click', async ()=>{
    if(deferredPrompt){ deferredPrompt.prompt(); await deferredPrompt.userChoice; deferredPrompt=null; }
    else{ alert('On mobile Chrome: open menu (‚ãÆ) ‚Üí "Add to Home screen"'); }
  });
</script>
</body>
</html>
